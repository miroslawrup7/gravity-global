const popup=document.querySelector("#popup"),openBtn=document.querySelector(".btn"),closeBtn=document.querySelector(".close-btn"),counterDisplay=document.querySelector(".counter"),resetBtn=document.querySelector(".reset");let clickCounter=0;openBtn.addEventListener("click",(()=>{popup.classList.add("active"),clickCounter++,counterDisplay.innerText=clickCounter+" times",clickCounter>5&&resetBtn.classList.add("active"),saveLng()})),closeBtn.addEventListener("click",(()=>{popup.classList.remove("active")})),popup.addEventListener("click",(e=>{e.target===e.currentTarget&&popup.classList.remove("active")})),resetBtn.addEventListener("click",(()=>{clickCounter=0,counterDisplay.innerText=clickCounter+" times",resetBtn.classList.remove("active"),saveLng()}));const createDB=()=>{let e=indexedDB.open("counterDB",1);e.onupgradeneeded=function(){let t=e.result;t.objectStoreNames.contains("counter")||t.createObjectStore("counter",{autoIncrement:!0})}};createDB();const saveLng=()=>{let e=indexedDB.open("counterDB");e.onsuccess=function(){let t=e.result.transaction("counter","readwrite").objectStore("counter").put(clickCounter,"counterValue");t.onsuccess=function(){},t.onerror=function(){console.log("Error",t.error)}}},getLng=()=>{let e=indexedDB.open("counterDB");e.onsuccess=function(){let t=e.result.transaction("counter").objectStore("counter").get("counterValue");t.onsuccess=function(){clickCounter&&(clickCounter=t.result)},t.onerror=function(){console.log("Error",t.error)}}};getLng();
//# sourceMappingURL=all.min.js.map
